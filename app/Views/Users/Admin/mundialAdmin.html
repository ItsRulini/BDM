<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FootGG - Crear Mundial</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/registro.css">
    <link rel="stylesheet" href="css/mundialAdmin.css">
    
    <link rel="icon" type="image/png" href="assets/isotipo.png">
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <a href="index.php?controller=admin&action=index">
                <img src="assets/isologo white.png" alt="FootGG Logo" class="logo-image">
            </a>
        </div>

        <ul class="nav-menu">
            <li><a href="index.php?controller=admin&action=index">Inicio Admin</a></li>
            <li><a href="index.php?controller=admin&action=posts">Posts</a></li>
            <li><a href="index.php?controller=admin&action=perfil">Mi Perfil</a></li>
            <li><a href="#" onclick="logout()">Cerrar Sesión</a></li>
        </ul>
        <div class="hamburger" onclick="toggleMobileMenu()">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>
    <div class="mobile-menu" id="mobileMenu">
        <ul>
            <li><a href="index.php?controller=admin&action=index">Inicio Admin</a></li>
            <li><a href="index.php?controller=admin&action=posts">Posts</a></li>
            <li><a href="index.php?controller=admin&action=perfil">Mi Perfil</a></li>
            <li><a href="#" onclick="logout()">Cerrar Sesión</a></li>
        </ul>
    </div>

    <a href="admin.html" class="back-link">
        <i class="fas fa-arrow-left"></i>
    </a>
    
    <main class="form-container mundial-form">
        <div class="mundial-preview">
            <h2 id="mundialTitle">Mundial</h2>
            <p id="mundialSubtitle">Selecciona el año y las sedes para ver el título</p>
        </div>

        <form id="mundialForm" enctype="multipart/form-data">
            <!-- INFORMACIÓN BÁSICA -->
            <div class="section-header">
                <i class="fas fa-info-circle"></i>
                <h3>Información Básica</h3>
            </div>

            <!-- Año del Mundial -->
            <div class="input-group">
                <label for="year">Año del Mundial:</label>
                <input 
                    type="number" 
                    id="year" 
                    name="year" 
                    min="1930" 
                    max="2100" 
                    placeholder="Ej: 2026"
                    style="-moz-appearance: textfield"
                    required>
                
                <style>
                    #year::-webkit-outer-spin-button,
                    #year::-webkit-inner-spin-button {
                        -webkit-appearance: none;
                        margin: 0;
                    }
                </style>
            </div>

            <!-- Sedes del Mundial -->
            <div class="input-group">
                <label for="sedes">Sede(s) del Mundial:</label>
                <div class="country-selector">
                    <div class="selected-countries" id="selectedCountries">
                        <span class="placeholder-text">Ningún país seleccionado</span>
                    </div>
                    <div class="country-dropdown">
                        <div class="country-search">
                            <input type="text" id="countrySearch" placeholder="Buscar país...">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="country-list" id="countryList">
                            <!-- Los países se cargarán dinámicamente -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Logo del Mundial -->
            <div class="input-group">
                <label for="logo">Logo del Mundial:</label>
                <div class="image-upload-container">
                    <input 
                        type="file" 
                        id="logo" 
                        accept="image/*"
                        style="display: none;"
                        onchange="previewImage(event, 'logoPreview')">
                    <div class="image-preview" id="logoPreview" onclick="document.getElementById('logo').click()">
                        <i class="fas fa-image"></i>
                        <p>Haz clic para seleccionar logo</p>
                        <span>JPG, PNG o WEBP (máx. 5MB)</span>
                    </div>
                </div>
            </div>

            <!-- Descripción del Mundial -->
            <div class="input-group">
                <label for="descripcion">Descripción:</label>
                <textarea id="descripcion" name="descripcion" rows="5" placeholder="Escribe una breve descripción del mundial..." required></textarea>
            </div>

            <!-- MASCOTA -->
            <div class="section-header">
                <i class="fas fa-paw"></i>
                <h3>Mascota del Mundial</h3>
            </div>

            <div class="input-group">
                <label for="nombreMascota">Nombre de la Mascota:</label>
                <input 
                    type="text" 
                    id="nombreMascota" 
                    name="nombreMascota" 
                    placeholder="Ej: Fuleco"
                    maxlength="100">
            </div>

            <div class="input-group">
                <label for="imgMascota">Imagen de la Mascota:</label>
                <div class="image-upload-container">
                    <input 
                        type="file" 
                        id="imgMascota" 
                        accept="image/*"
                        style="display: none;"
                        onchange="previewImage(event, 'mascotaPreview')">
                    <div class="image-preview" id="mascotaPreview" onclick="document.getElementById('imgMascota').click()">
                        <i class="fas fa-image"></i>
                        <p>Haz clic para seleccionar imagen de la mascota</p>
                        <span>JPG, PNG o WEBP (máx. 5MB)</span>
                    </div>
                </div>
            </div>

            <!-- POSICIONES FINALES -->
            <div class="section-header">
                <i class="fas fa-trophy"></i>
                <h3>Posiciones Finales</h3>
            </div>

            <div class="positions-grid">
                <div class="input-group">
                    <label for="campeon">
                        <i class="fas fa-medal" style="color: gold;"></i> Campeón:
                    </label>
                    <select id="campeon" class="country-select">
                        <option value="">Seleccionar país...</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="subcampeon">
                        <i class="fas fa-medal" style="color: silver;"></i> Subcampeón:
                    </label>
                    <select id="subcampeon" class="country-select">
                        <option value="">Seleccionar país...</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="tercerPuesto">
                        <i class="fas fa-medal" style="color: #cd7f32;"></i> Tercer Puesto:
                    </label>
                    <select id="tercerPuesto" class="country-select">
                        <option value="">Seleccionar país...</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="cuartoPuesto">
                        <i class="fas fa-award"></i> Cuarto Puesto:
                    </label>
                    <select id="cuartoPuesto" class="country-select">
                        <option value="">Seleccionar país...</option>
                    </select>
                </div>
            </div>

            <!-- RESULTADOS DE LA FINAL -->
            <div class="section-header">
                <i class="fas fa-futbol"></i>
                <h3>Resultado de la Final</h3>
            </div>

            <div class="input-group">
                <label for="marcador">Marcador (Tiempo Reglamentario):</label>
                <input 
                    type="text" 
                    id="marcador" 
                    name="marcador" 
                    placeholder="Ej: 3-3"
                    maxlength="10"
                    pattern="[0-9]+-[0-9]+">
                <small>Formato: goles-goles (Ej: 3-3)</small>
            </div>

            <div class="checkbox-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="tiempoExtra" onchange="toggleTiempoExtra()">
                    <span>¿Hubo tiempo extra?</span>
                </label>
            </div>

            <div class="input-group" id="marcadorTiempoExtraGroup" style="display: none;">
                <label for="marcadorTiempoExtra">Marcador (Tiempo Extra):</label>
                <input 
                    type="text" 
                    id="marcadorTiempoExtra" 
                    name="marcadorTiempoExtra" 
                    placeholder="Ej: 3-3"
                    maxlength="10"
                    pattern="[0-9]+-[0-9]+">
            </div>

            <div class="checkbox-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="penalties" onchange="togglePenalties()">
                    <span>¿Se definió por penales?</span>
                </label>
            </div>

            <div class="checkbox-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="muerteSubita">
                    <span>¿Hubo muerte súbita?</span>
                </label>
            </div>

            <div class="input-group" id="marcadorFinalGroup" style="display: none;">
                <label for="marcadorFinal">Marcador Final (incluyendo penales):</label>
                <input 
                    type="text" 
                    id="marcadorFinal" 
                    name="marcadorFinal" 
                    placeholder="Ej: 4-2 (penales)"
                    maxlength="20">
            </div>

            <!-- PREMIOS INDIVIDUALES -->
            <div class="section-header">
                <i class="fas fa-star"></i>
                <h3>Premios Individuales</h3>
            </div>

            <div class="awards-grid">
                <div class="input-group">
                    <label for="balonOro">
                        <i class="fas fa-futbol" style="color: gold;"></i> Balón de Oro:
                    </label>
                    <select id="balonOro" class="player-select">
                        <option value="">Seleccionar jugador...</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="balonPlata">
                        <i class="fas fa-futbol" style="color: silver;"></i> Balón de Plata:
                    </label>
                    <select id="balonPlata" class="player-select">
                        <option value="">Seleccionar jugador...</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="balonBronce">
                        <i class="fas fa-futbol" style="color: #cd7f32;"></i> Balón de Bronce:
                    </label>
                    <select id="balonBronce" class="player-select">
                        <option value="">Seleccionar jugador...</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="botinOro">
                        <i class="fas fa-shoe-prints" style="color: gold;"></i> Botín de Oro:
                    </label>
                    <select id="botinOro" class="player-select">
                        <option value="">Seleccionar jugador...</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="golesMaximoGoleador">
                        <i class="fas fa-futbol"></i>
                        Goles anotados por el máximo goleador:
                    </label>

                    <input 
                        type="number" 
                        id="golesMaximoGoleador" 
                        name="golesMaximoGoleador" 
                        min="0" 
                        step="1" 
                        placeholder="Ej: 6"
                        required
                        style="-moz-appearance: textfield;">
                    <style>
                        #golesMaximoGoleador::-webkit-outer-spin-button,
                        #golesMaximoGoleador::-webkit-inner-spin-button {
                            -webkit-appearance: none;
                            margin: 0;
                        }
                    </style>
                </div>

                <div class="input-group">
                    <label for="botinPlata">
                        <i class="fas fa-shoe-prints" style="color: silver;"></i> Botín de Plata:
                    </label>
                    <select id="botinPlata" class="player-select">
                        <option value="">Seleccionar jugador...</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="botinBronce">
                        <i class="fas fa-shoe-prints" style="color: #cd7f32;"></i> Botín de Bronce:
                    </label>
                    <select id="botinBronce" class="player-select">
                        <option value="">Seleccionar jugador...</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="guanteOro">
                        <i class="fas fa-hands" style="color: gold;"></i> Guante de Oro:
                    </label>
                    <select id="guanteOro" class="player-select">
                        <option value="">Seleccionar jugador...</option>
                    </select>
                </div>
            </div>

            <!-- MULTIMEDIA -->
            <div class="section-header">
                <i class="fas fa-photo-video"></i>
                <h3>Multimedia Adicional</h3>
            </div>

            <div class="input-group">
                <label for="multimedia">Imágenes y Videos:</label>
                <div class="multimedia-container" id="multimediaContainer">
                    <div class="multimedia-carousel" id="multimediaCarousel">
                        <div class="upload-placeholder" onclick="triggerFileInput()">
                            <i class="fas fa-plus-circle"></i>
                            <p>Agregar archivos multimedia</p>
                            <span>Imágenes, videos, documentos</span>
                        </div>
                    </div>
                    <input type="file" id="multimediaInput" multiple accept="image/*,video/*,.pdf,.doc,.docx" style="display: none;">
                    <div class="carousel-controls">
                        <button type="button" class="carousel-btn prev" onclick="scrollCarousel(-1)">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button type="button" class="carousel-btn next" onclick="scrollCarousel(1)">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <button type="submit" class="submit-btn" id="submitBtn">Crear Mundial</button>
        </form>
    </main>

    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="assets/isologo white.png" alt="FootGG Logo">
                <p>Tu fuente #1 para todo sobre la Copa del Mundo.</p>
            </div>
            <div class="footer-links">
                <h4>Navegación</h4>
                <ul>
                    <li><a href="index.php?controller=admin&action=index">Inicio Admin</a></li>
                    <li><a href="index.php?controller=admin&action=posts">Posts</a></li>
                    <li><a href="index.php?controller=admin&action=perfil">Mi Perfil</a></li>
                    <li><a href="index.php?controller=api&action=logout">Cerrar Sesión</a></li>
                </ul>
            </div>
            <div class="footer-social">
                <h4>Síguenos</h4>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 FootGG. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="js/tools.js"></script>
    <script src="js/mundialAdmin.js"></script>
</body>
</html>